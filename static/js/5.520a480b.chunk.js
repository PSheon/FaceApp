(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{707:function(e,t,a){"use strict";a.r(t);var i=a(299);a.d(t,"default",function(){return i.a})},774:function(e,t,a){"use strict";var i=a(362);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=n.default.memo(n.default.forwardRef(function(t,a){return n.default.createElement(s.default,(0,r.default)({ref:a},t),e)}));0;return a.muiName=s.default.muiName,a};var r=i(a(91)),n=i(a(0)),s=i(a(707))},784:function(e,t,a){"use strict";var i=a(362);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),n=(0,i(a(774)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");t.default=n},785:function(e,t,a){"use strict";var i=a(362);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),n=(0,i(a(774)).default)(r.default.createElement("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");t.default=n},786:function(e,t,a){"use strict";var i=a(362);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),n=(0,i(a(774)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=n},787:function(e,t,a){"use strict";var i=a(362);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),n=(0,i(a(774)).default)(r.default.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.default=n},804:function(e,t,a){"use strict";a.r(t);var i=a(62),r=a.n(i),n=a(89),s=a(24),o=a(0),c=a.n(o),u=a(119),l=a(738),d=a(33),M=a(10),L=a(7),m=a(3),h=a(360),j=a(757),f=a(2),w=a(6),g=(a(5),a(8)),y=a(11),v=c.a.forwardRef(function(e,t){var a=e.badgeContent,i=e.children,r=e.classes,n=e.className,s=e.color,o=void 0===s?"default":s,u=e.component,l=void 0===u?"span":u,d=e.invisible,M=e.max,L=void 0===M?99:M,h=e.showZero,j=void 0!==h&&h,g=e.variant,v=void 0===g?"standard":g,p=Object(w.a)(e,["badgeContent","children","classes","className","color","component","invisible","max","showZero","variant"]),b=d;null==d&&(0===a&&!j||null==a&&"dot"!==v)&&(b=!0);var x="";return"dot"!==v&&(x=a>L?"".concat(L,"+"):a),c.a.createElement(l,Object(f.a)({className:Object(m.a)(r.root,n),ref:t},p),i,c.a.createElement("span",{className:Object(m.a)(r.badge,"default"!==o&&r["color".concat(Object(y.a)(o))],b&&r.invisible,{dot:r.dot}[v])},x))}),p=Object(g.a)(function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle"},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",top:0,right:0,boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,padding:"0 4px",height:20,borderRadius:10,backgroundColor:e.palette.color,color:e.palette.textColor,zIndex:1,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen}),transform:"scale(0) translate(50%, -50%)",transformOrigin:"100% 0%"},dot:{height:6,minWidth:6,padding:0}}},{name:"MuiBadge"})(v),b=a(761),x=a(759),N=a(742),I=a(756),E=a(694),O=a(743),D=a(85),T=c.a.forwardRef(function(e,t){var a=e.classes,i=e.className,r=Object(w.a)(e,["classes","className"]),n=c.a.useContext(D.a);return c.a.createElement("div",Object(f.a)({className:Object(m.a)(a.root,i,"flex-start"===n.alignItems&&a.alignItemsFlexStart),ref:t},r))}),S=Object(g.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(T),C=a(688),z=a(765),k=a(764),Y=a(692),A=a(695),U=a(786),B=a.n(U),R=a(787),P=a.n(R),W=a(784),H=a.n(W),G=a(785),Q=a.n(G),J=a(12),F=a(60),Z=a(127),V=c.a.forwardRef(function(e,t){return c.a.createElement(Y.a,Object.assign({direction:"up",ref:t},e))}),X=Object(h.a)(function(e){return{root:{position:"absolute",right:10,bottom:20,zIndex:1,transition:"all .5s ease-in-out","&:hover":{transform:"translate(-10px, -10px)"}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}});var _=function(e){var t=e.getScreenShot,a=Object(L.b)(),i=X(),u=Object(o.useState)(null),l=Object(s.a)(u,2),h=l[0],f=l[1],w=Object(o.useState)(null),g=Object(s.a)(w,2),y=g[0],v=g[1],D=Object(o.useState)(""),T=Object(s.a)(D,2),Y=T[0],U=T[1],R=Object(o.useState)([]),W=Object(s.a)(R,2),G=W[0],_=W[1],q=Object(o.useState)(!1),$=Object(s.a)(q,2),K=$[0],ee=$[1],te=Object(o.useState)(!1),ae=Object(s.a)(te,2),ie=ae[0],re=ae[1],ne=Object(o.useState)(!1),se=Object(s.a)(ne,2),oe=se[0],ce=se[1],ue=Object(o.useState)(!1),le=Object(s.a)(ue,2),de=le[0],Me=le[1],Le=function(){var e=Object(n.a)(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:a=e.sent,v(a),Me(!0);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),me=function(){v(null),f(null),Me(!1)},he=Object(o.useCallback)(function(){var e=Object(n.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.next=3,Object(F.c)(t,160).then(function(e){re(!0),ee(!1),_(e),console.log(e)}).catch(function(e){console.log("err, ",e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)(function(){Z.a.hasDescriptor()&&f(Z.a.getDescriptor())},[]),c.a.createElement("div",{className:Object(m.a)(i.root,"flex flex-col opacity-25 hover:opacity-100")},c.a.createElement(A.a,{onClick:function(){ce(!0)},className:"text-white w-64 h-64","aria-label":"\u8fa8\u8b58\u81c9\u90e8"},c.a.createElement(I.a,{title:"\u8cb4\u8cd3\u540d\u55ae","aria-label":"\u8cb4\u8cd3\u540d\u55ae",placement:"left"},c.a.createElement(p,{badgeContent:h?Object.keys(h).length:0,color:"primary"},c.a.createElement(H.a,null)))),c.a.createElement(A.a,{onClick:Le,className:"text-white w-64 h-64","aria-label":"\u65b0\u589e\u8cb4\u8cd3"},c.a.createElement(I.a,{title:"\u65b0\u589e\u8cb4\u8cd3","aria-label":"\u65b0\u589e\u8cb4\u8cd3",placement:"left"},c.a.createElement(Q.a,null))),c.a.createElement(A.a,{onClick:function(){Z.a.removeDescriptor(),a(J.p({message:"\u5df2\u522a\u9664\u8cb4\u8cd3\u8cc7\u8a0a"}))},className:"text-white w-64 h-64","aria-label":"\u522a\u9664\u8fa8\u8b58\u8cc7\u6599"},c.a.createElement(I.a,{title:"\u522a\u9664\u8cb4\u8cd3\u8cc7\u6599","aria-label":"\u522a\u9664\u8cb4\u8cd3\u8cc7\u6599",placement:"left"},c.a.createElement(B.a,null))),c.a.createElement(x.a,{open:oe,TransitionComponent:V,keepMounted:!0,onClose:function(){ce(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},c.a.createElement(k.a,{id:"alert-dialog-slide-title"},"\u5df2\u8fa8\u8b58\u7684\u8cb4\u8cd3\u540d\u55ae"),c.a.createElement(z.a,null,c.a.createElement(N.a,{dense:!0},!!h&&Object.entries(h).map(function(e){return c.a.createElement(E.a,{className:"rounded-32 my-12 sm:w-360",key:"list-".concat(e[0])},c.a.createElement(S,null,c.a.createElement(C.a,null,c.a.createElement(H.a,null))),c.a.createElement(O.a,{primary:e[0],className:"h2 text-grey"}))})))),c.a.createElement(x.a,{open:de,TransitionComponent:V,keepMounted:!0,onClose:me,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},c.a.createElement(k.a,{id:"alert-dialog-slide-title"},"\u65b0\u589e\u8cb4\u8cd3"),c.a.createElement(z.a,null,y&&c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"rounded-12",src:y,alt:"\u87a2\u5e55\u64f7\u53d6"}),ie?G.length?c.a.createElement("div",{className:"flex flex-col justify-center items-center"},c.a.createElement(j.a,{className:"mt-16 mb-32 rounded-12",id:"outlined-basic",label:"\u8cb4\u8cd3\u59d3\u540d",value:Y,onChange:function(e){return U(e.target.value)},variant:"outlined"}),c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",disabled:""===Y||!!Object.entries(h).find(function(e){return e[0].toLowerCase()===Y.toLowerCase()}),onClick:function(){return function(e,t){var i=Z.a.getDescriptor(),r=JSON.stringify(Object(M.a)({},i,Object(d.a)({},e,{name:e,descriptors:[Array.from(t[0].descriptor)]})));Z.a.setDescriptor(r),a(J.p({message:"\u5df2\u65b0\u589e\u8cb4\u8cd3\u8cc7\u8a0a"})),Me(!1)}(Y,G)}},"\u52a0\u5165\u8cb4\u8cd3",c.a.createElement(H.a,null))):c.a.createElement("div",{className:"flex flex-col justify-center items-center"},c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",onClick:me},c.a.createElement(P.a,null),"\u91cd\u65b0\u62cd\u651d")):c.a.createElement("div",{className:"flex justify-center items-center"},c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",onClick:me},c.a.createElement(P.a,null),"\u91cd\u65b0\u62cd\u651d"),c.a.createElement(b.a,{variant:"contained",color:"primary",size:"large",className:"",onClick:function(){return he(y)},disabled:K},K?"\u8a13\u7df4\u5716\u7247\u4e2d...":"\u8a13\u7df4\u5716\u7247",c.a.createElement(H.a,null)))))))},q=a(129),$=a(37),K=a(39),ee=a(52),te=a(51),ae=a(53);function ie(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(a,i){t.call(navigator,e,a,i)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var re=function(e){function t(e){var a;return Object($.a)(this,t),(a=Object(ee.a)(this,Object(te.a)(t).call(this,e))).canvas=null,a.ctx=null,a.stream=void 0,a.video=void 0,a.state={hasUserMedia:!1},a}return Object(ae.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=this.props;ie()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError("getUserMedia not supported")}},{key:"componentDidUpdate",value:function(e){var t=this.props;if(ie()){var a=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),i=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),r=e.minScreenshotWidth!==t.minScreenshotWidth,n=e.minScreenshotHeight!==t.minScreenshotHeight;(i||r||n)&&(this.canvas=null,this.ctx=null),(a||i)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")}},{key:"componentWillUnmount",value:function(){this.stopAndCleanup()}},{key:"stopAndCleanup",value:function(){var e=this.state;e.hasUserMedia&&(this.stream&&(this.stream.getVideoTracks&&this.stream.getAudioTracks?(this.stream.getVideoTracks().map(function(e){return e.stop()}),this.stream.getAudioTracks().map(function(e){return e.stop()})):this.stream.stop()),e.src&&window.URL.revokeObjectURL(e.src))}},{key:"getScreenshot",value:function(){var e=this.state,t=this.props;if(!e.hasUserMedia)return null;var a=this.getCanvas();return a&&a.toDataURL(t.screenshotFormat,t.screenshotQuality)}},{key:"getCanvas",value:function(){var e=this.state,t=this.props;if(!this.video)return null;if(!e.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var a=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var r=a/i;i=(a=t.minScreenshotWidth||this.video.clientWidth)/r,t.minScreenshotHeight&&i<t.minScreenshotHeight&&(a=(i=t.minScreenshotHeight)*r)}this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=i,this.ctx=this.canvas.getContext("2d")}var n=this.ctx,s=this.canvas;return n&&s&&(t.mirrored&&(n.translate(s.width,0),n.scale(-1,1)),n.imageSmoothingEnabled=t.imageSmoothing,n.drawImage(this.video,0,0,s.width,s.height),t.mirrored&&(n.scale(-1,1),n.translate(-s.width,0))),s}},{key:"requestUserMedia",value:function(){var e=this,t=this.props,a=function(a,i){var r={video:"undefined"===typeof i||i};t.audio&&(r.audio="undefined"===typeof a||a),navigator.mediaDevices.getUserMedia(r).then(function(t){e.handleUserMedia(null,t)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)a(t.audioConstraints,t.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},r=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var n=null,s=null;e.forEach(function(e){"audio"===e.kind?n=e.id:"video"===e.kind&&(s=e.id)});var o=r(t.audioConstraints);o&&(n=o);var c=r(t.videoConstraints);c&&(s=c),a(i(n),i(s))})}}},{key:"handleUserMedia",value:function(e,t){var a=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void a.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(i){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}a.onUserMedia()}},{key:"render",value:function(){var e=this,t=this.state,a=this.props,i=a.audio,r=(a.forceScreenshotSourceSize,a.onUserMedia,a.onUserMediaError,a.screenshotFormat,a.screenshotQuality,a.minScreenshotWidth,a.minScreenshotHeight,a.audioConstraints,a.videoConstraints,a.imageSmoothing,a.mirrored),n=a.style,s=void 0===n?{}:n,c=Object(q.a)(a,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),u=r?Object(M.a)({},s,{transform:"".concat(s.transform||""," scaleX(-1)")}):s;return o.createElement("video",Object.assign({autoPlay:!0,src:t.src,muted:i,playsInline:!0,ref:function(t){e.video=t},style:u},c))}}]),t}(o.Component);re.defaultProps={audio:!0,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92};var ne=a(257),se=Object(h.a)(function(e){return{scanBar:{backgroundColor:"#3182ce",position:"relative",borderRadius:"32rem",height:"5px",animation:"$scan 1s infinite"},"@keyframes scan":{"0%":{opacity:.8,transform:"translateY(0)"},"50%":{opacity:1,transform:"translateY(12.8rem)"},"100%":{opacity:.8,transform:"translateY(0)"}}}}),oe=function(e){var t=se();return c.a.createElement("div",e,c.a.createElement("img",{className:"absolute",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMzE4MmNlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAwIDEwMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxwYXRoIGQ9Ik05Mi43LDY4LjhjLTEuMiwwLTIuMiwxLTIuMiwyLjJ2OS4yYzAsNS43LTQuNiwxMC4zLTEwLjMsMTAuM2gtMTBjLTEuMiwwLTIuMiwxLTIuMiwyLjJzMSwyLjIsMi4yLDIuMmgxMCAgIGM4LjEsMCwxNC43LTYuNiwxNC43LTE0LjdWNzFDOTQuOSw2OS44LDkzLjksNjguOCw5Mi43LDY4Ljh6Ij48L3BhdGg+PHBhdGggZD0iTTgwLjIsNS4xaC0xMGMtMS4yLDAtMi4yLDEtMi4yLDIuMnMxLDIuMiwyLjIsMi4yaDEwYzUuNywwLDEwLjMsNC42LDEwLjMsMTAuM3YxMC43YzAsMS4yLDEsMi4yLDIuMiwyLjJzMi4yLTEsMi4yLTIuMiAgIFYxOS44Qzk0LjksMTEuNyw4OC4zLDUuMSw4MC4yLDUuMXoiPjwvcGF0aD48cGF0aCBkPSJNNjguOSw0OC45YzEuNSwwLDIuNy0xLjIsMi44LTIuN1YzOWMwLTEuNi0xLjItMi44LTIuOC0yLjhjLTEuNiwwLTIuOCwxLjMtMi44LDIuOHY3LjFDNjYuMSw0Ny43LDY3LjQsNDguOSw2OC45LDQ4Ljl6Ij48L3BhdGg+PHBhdGggZD0iTTYzLjcsNjguM2MtMy42LDMuNi04LjQsNS42LTEzLjMsNS42aC0wLjhjLTUsMC05LjctMi0xMy4zLTUuNmMtMC44LTAuOS0yLjItMC45LTMuMSwwYy0wLjksMC44LTAuOSwyLjIsMCwzLjEgICBjNC41LDQuNSwxMC4zLDYuOSwxNi40LDYuOWgwLjhjNi4xLDAsMTItMi40LDE2LjQtNi45YzAuOS0wLjgsMC45LTIuMiwwLTMuMUM2Niw2Ny40LDY0LjYsNjcuNCw2My43LDY4LjN6Ij48L3BhdGg+PHBhdGggZD0iTTQ0LjUsNjIuMkg0NWM0LjUsMCw4LjEtMy42LDguMS04VjM5YzAtMS4yLTEtMi4yLTIuMi0yLjJzLTIuMiwxLTIuMiwyLjJ2MTUuMWMwLDIuMS0xLjcsMy43LTMuNywzLjdoLTAuNSAgIGMtMS4yLDAtMi4yLDEtMi4yLDIuMlM0My4zLDYyLjIsNDQuNSw2Mi4yeiI+PC9wYXRoPjxwYXRoIGQ9Ik0yOS43LDM2LjJjLTEuNiwwLTIuOCwxLjMtMi44LDIuOHY3LjFjMCwxLjYsMS4zLDIuOCwyLjgsMi44YzEuNiwwLDIuOC0xLjIsMi44LTIuN1YzOUMzMi41LDM3LjQsMzEuMiwzNi4yLDI5LjcsMzYuMnoiPjwvcGF0aD48cGF0aCBkPSJNNy4zLDMyLjdjMS4yLDAsMi4yLTEsMi4yLTIuMlYxOS44YzAtNS43LDQuNi0xMC4zLDEwLjMtMTAuM2gxMGMxLjIsMCwyLjItMSwyLjItMi4ycy0xLTIuMi0yLjItMi4yaC0xMCAgIGMtOC4xLDAtMTQuNyw2LjYtMTQuNywxNC43djEwLjdDNS4xLDMxLjcsNi4xLDMyLjcsNy4zLDMyLjd6Ij48L3BhdGg+PHBhdGggZD0iTTI5LjcsOTAuNWgtMTBjLTUuNywwLTEwLjMtNC42LTEwLjMtMTAuM1Y3MWMwLTEuMi0xLTIuMi0yLjItMi4yUzUsNjkuOCw1LDcxdjkuMmMwLDguMSw2LjYsMTQuNywxNC43LDE0LjdoMTAgICBjMS4zLDAsMi4yLTEsMi4yLTIuMlMzMC45LDkwLjUsMjkuNyw5MC41eiI+PC9wYXRoPjwvZz48L3N2Zz4=",alt:"face logo"}),c.a.createElement("div",{className:t.scanBar}))},ce=Object(h.a)(function(e){return{faceLogo:{position:"relative",width:"12.8rem",height:"12.8rem",marginBottom:"3.2rem",zIndex:1},hintFrame:{position:"absolute",height:"80vh",width:"50vw",transform:"translate(25vw, 10vh)","& .topLeft":{width:"15%",height:"15%",position:"absolute",top:0,left:0,borderTopLeftRadius:"15%",borderTop:"15px solid #3182ce",borderLeft:"15px solid #3182ce"},"& .topRight":{width:"15%",height:"15%",position:"absolute",top:0,right:0,borderTopRightRadius:"15%",borderTop:"15px solid #3182ce",borderRight:"15px solid #3182ce"},"& .bottomLeft":{width:"15%",height:"15%",position:"absolute",bottom:0,left:0,borderBottomLeftRadius:"15%",borderBottom:"15px solid #3182ce",borderLeft:"15px solid #3182ce"},"& .bottomRight":{width:"15%",height:"15%",position:"absolute",bottom:0,right:0,borderBottomRightRadius:"15%",borderBottom:"15px solid #3182ce",borderRight:"15px solid #3182ce"}},faceFrame:{"& .topLeft":{width:"5%",height:"5%",position:"absolute",top:0,left:0,borderTopLeftRadius:"15%",borderTop:"10px solid #3182ce",borderLeft:"10px solid #3182ce"},"& .topRight":{width:"5%",height:"5%",position:"absolute",top:0,right:0,borderTopRightRadius:"15%",borderTop:"10px solid #3182ce",borderRight:"10px solid #3182ce"},"& .bottomLeft":{width:"5%",height:"5%",position:"absolute",bottom:0,left:0,borderBottomLeftRadius:"15%",borderBottom:"10px solid #3182ce",borderLeft:"10px solid #3182ce"},"& .bottomRight":{width:"5%",height:"5%",position:"absolute",bottom:0,right:0,borderBottomRightRadius:"15%",borderBottom:"10px solid #3182ce",borderRight:"10px solid #3182ce"}}}}),ue=160;t.default=function(){var e=Object(o.useRef)(null),t=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var a=Object(o.useState)(t),i=Object(s.a)(a,2),r=i[0],n=i[1];return Object(o.useEffect)(function(){if(!e)return!1;function a(){n(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}},[]),r}(),a=ce(),i=Object(l.a)("(min-width: 600px)"),d=t.width,M=t.height,L=Object(o.useState)(!0),m=Object(s.a)(L,2),h=m[0],j=m[1],f=Object(o.useState)(!1),w=Object(s.a)(f,2),g=w[0],y=w[1],v=Object(o.useState)(!1),p=Object(s.a)(v,2),b=p[0],x=p[1],N=Object(o.useState)(null),I=Object(s.a)(N,2),E=I[0],O=I[1],D=Object(o.useState)(null),T=Object(s.a)(D,2),S=T[0],C=T[1],z=Object(o.useState)(null),k=Object(s.a)(z,2),Y=k[0],A=k[1],U=Object(o.useState)(null),B=Object(s.a)(U,2),R=B[0],P=B[1],W=Object(o.useState)(null),H=Object(s.a)(W,2),G=H[0],Q=H[1],J=null;G&&(J={width:d,height:M,facingMode:G});var V=null;E&&(V=E.map(function(e,t){var i=e.box.height,r=e.box.width,n=e.box._x,s=e.box._y;return c.a.createElement("div",{key:t,className:"absolute top-0 left-0"},R&&R[t]?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.faceFrame,style:{height:i,width:r,transform:"translate(".concat(n,"px,").concat(s,"px)")}},c.a.createElement("div",{className:"topLeft"}),c.a.createElement("div",{className:"topRight"}),c.a.createElement("div",{className:"bottomLeft"}),c.a.createElement("div",{className:"bottomRight"})),c.a.createElement("div",{className:"flex justify-center items-center relative w-128 absolute",style:{transform:"translate(".concat(n-.3*r,"px, ").concat(s-i,"px)")}},c.a.createElement(u.a,{variant:"h3",className:"h1 text-center bg-blue-300 min-h-64 w-128 text-white leading-loose rounded-8"},R[t]._label)),c.a.createElement("div",{className:"flex justify-center items-center relative w-200 absolute",style:{transform:"translate(".concat(n+r,"px, ").concat(s-i-64,"px)")}},c.a.createElement(u.a,{variant:"h3",className:"h1 text-center bg-blue-300 min-h-64 w-128 text-white leading-loose rounded-8"},"\u9019\u908a\u53ef\u4ee5\u986f\u793a\u8cb4\u8cd3\u4ecb\u7d39(\u6216\u5716\u7247)"))):null)}));var X=function(){var t=Object(n.a)(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current.getScreenshot();case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),q=Object(o.useCallback)(Object(n.a)(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.current){t.next=11;break}return t.next=3,Object(F.c)(e.current.getScreenshot(),ue).then(function(e){e?(x(!0),O(e.map(function(e){return e.detection})),C(e.map(function(e){return e.descriptor}))):x(!1)});case 3:if(!S||!Y){t.next=10;break}return t.next=6,S.map(function(e){return Y.findBestMatch(e)});case 6:a=t.sent,P(a),t.next=11;break;case 10:x(!1);case 11:case"end":return t.stop()}},t)})),[S,Y]),$=Object(o.useCallback)(function(){navigator.mediaDevices.enumerateDevices().then(function(){var e=Object(n.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter(function(e){return"videoinput"===e.kind});case 2:if(!(e.sent.length<2)){e.next=8;break}return e.next=6,Q("user");case 6:e.next=10;break;case 8:return e.next=10,Q({exact:"environment"});case 10:y(!0);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[]);return Object(o.useEffect)(function(){function e(){return(e=Object(n.a)(r.a.mark(function e(){var t,a,i,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)();case 2:if(!Z.a.hasDescriptor()){e.next=10;break}return t=Z.a.getDescriptor(),e.next=6,Object(F.b)(t);case 6:a=e.sent,A(a),e.next=15;break;case 10:return i=Z.a.getInitDescriptor(),e.next=13,Object(F.b)(i);case 13:n=e.sent,A(n);case 15:$(),j(!1);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}G||function(){e.apply(this,arguments)}()},[G,h,$]),function(e,t){var a=Object(o.useRef)();Object(o.useEffect)(function(){a.current=e},[e]),Object(o.useEffect)(function(){if(null!==t){var e=setInterval(function(){a.current()},t);return function(){return clearInterval(e)}}},[t])}(Object(n.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=3;break}return e.next=3,q();case 3:case"end":return e.stop()}},e)})),500),i?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"Camera flex flex-col justify-center items-center",style:{width:d,height:M}},h&&c.a.createElement("div",{className:"w-full h-640 absolute flex flex-col justify-center items-center z-10"},c.a.createElement(u.a,{variant:"h6",className:"text-gray-600"},"\u8f09\u5165\u6a21\u578b\u4e2d"),c.a.createElement(ne.a,{width:"128",height:"128"})),J&&!b?c.a.createElement("div",{className:"w-full h-full absolute flex flex-col justify-center items-center z-10 bottom-0"},c.a.createElement(oe,{className:a.faceLogo}),c.a.createElement(u.a,{variant:"h6",className:"text-white flex justify-center"},c.a.createElement("span",null,"\u5c0b\u627e\u8cb4\u8cd3 "),c.a.createElement(ne.a,{width:32,height:32}))):null,J?c.a.createElement(re,{mirrored:!0,audio:!1,width:d,height:M,ref:e,screenshotFormat:"image/jpeg",videoConstraints:J}):null,V||null),c.a.createElement("div",{className:a.hintFrame},c.a.createElement("div",{className:"topLeft"}),c.a.createElement("div",{className:"topRight"}),c.a.createElement("div",{className:"bottomLeft"}),c.a.createElement("div",{className:"bottomRight"})),J&&!b?null:c.a.createElement(_,{getScreenShot:X})):c.a.createElement("div",{className:"flex flex-col justify-center items-center bg-blue-300 absolute h-full w-full"},c.a.createElement("img",{className:"w-128 h-128 mb-32",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMzE4MmNlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAwIDEwMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxwYXRoIGQ9Ik05Mi43LDY4LjhjLTEuMiwwLTIuMiwxLTIuMiwyLjJ2OS4yYzAsNS43LTQuNiwxMC4zLTEwLjMsMTAuM2gtMTBjLTEuMiwwLTIuMiwxLTIuMiwyLjJzMSwyLjIsMi4yLDIuMmgxMCAgIGM4LjEsMCwxNC43LTYuNiwxNC43LTE0LjdWNzFDOTQuOSw2OS44LDkzLjksNjguOCw5Mi43LDY4Ljh6Ij48L3BhdGg+PHBhdGggZD0iTTgwLjIsNS4xaC0xMGMtMS4yLDAtMi4yLDEtMi4yLDIuMnMxLDIuMiwyLjIsMi4yaDEwYzUuNywwLDEwLjMsNC42LDEwLjMsMTAuM3YxMC43YzAsMS4yLDEsMi4yLDIuMiwyLjJzMi4yLTEsMi4yLTIuMiAgIFYxOS44Qzk0LjksMTEuNyw4OC4zLDUuMSw4MC4yLDUuMXoiPjwvcGF0aD48cGF0aCBkPSJNNjguOSw0OC45YzEuNSwwLDIuNy0xLjIsMi44LTIuN1YzOWMwLTEuNi0xLjItMi44LTIuOC0yLjhjLTEuNiwwLTIuOCwxLjMtMi44LDIuOHY3LjFDNjYuMSw0Ny43LDY3LjQsNDguOSw2OC45LDQ4Ljl6Ij48L3BhdGg+PHBhdGggZD0iTTYzLjcsNjguM2MtMy42LDMuNi04LjQsNS42LTEzLjMsNS42aC0wLjhjLTUsMC05LjctMi0xMy4zLTUuNmMtMC44LTAuOS0yLjItMC45LTMuMSwwYy0wLjksMC44LTAuOSwyLjIsMCwzLjEgICBjNC41LDQuNSwxMC4zLDYuOSwxNi40LDYuOWgwLjhjNi4xLDAsMTItMi40LDE2LjQtNi45YzAuOS0wLjgsMC45LTIuMiwwLTMuMUM2Niw2Ny40LDY0LjYsNjcuNCw2My43LDY4LjN6Ij48L3BhdGg+PHBhdGggZD0iTTQ0LjUsNjIuMkg0NWM0LjUsMCw4LjEtMy42LDguMS04VjM5YzAtMS4yLTEtMi4yLTIuMi0yLjJzLTIuMiwxLTIuMiwyLjJ2MTUuMWMwLDIuMS0xLjcsMy43LTMuNywzLjdoLTAuNSAgIGMtMS4yLDAtMi4yLDEtMi4yLDIuMlM0My4zLDYyLjIsNDQuNSw2Mi4yeiI+PC9wYXRoPjxwYXRoIGQ9Ik0yOS43LDM2LjJjLTEuNiwwLTIuOCwxLjMtMi44LDIuOHY3LjFjMCwxLjYsMS4zLDIuOCwyLjgsMi44YzEuNiwwLDIuOC0xLjIsMi44LTIuN1YzOUMzMi41LDM3LjQsMzEuMiwzNi4yLDI5LjcsMzYuMnoiPjwvcGF0aD48cGF0aCBkPSJNNy4zLDMyLjdjMS4yLDAsMi4yLTEsMi4yLTIuMlYxOS44YzAtNS43LDQuNi0xMC4zLDEwLjMtMTAuM2gxMGMxLjIsMCwyLjItMSwyLjItMi4ycy0xLTIuMi0yLjItMi4yaC0xMCAgIGMtOC4xLDAtMTQuNyw2LjYtMTQuNywxNC43djEwLjdDNS4xLDMxLjcsNi4xLDMyLjcsNy4zLDMyLjd6Ij48L3BhdGg+PHBhdGggZD0iTTI5LjcsOTAuNWgtMTBjLTUuNywwLTEwLjMtNC42LTEwLjMtMTAuM1Y3MWMwLTEuMi0xLTIuMi0yLjItMi4yUzUsNjkuOCw1LDcxdjkuMmMwLDguMSw2LjYsMTQuNywxNC43LDE0LjdoMTAgICBjMS4zLDAsMi4yLTEsMi4yLTIuMlMzMC45LDkwLjUsMjkuNyw5MC41eiI+PC9wYXRoPjwvZz48L3N2Zz4=",alt:"face logo"}),c.a.createElement(u.a,{variant:"h6",className:"h3 text-white text-center"},"\u6b64 APP \u4e0d\u652f\u63f4\u60a8\u7684\u88dd\u7f6e\uff0c\u8acb\u4f7f\u7528\u500b\u4eba\u96fb\u8166\u518d\u6b21\u958b\u555f"))}}}]);