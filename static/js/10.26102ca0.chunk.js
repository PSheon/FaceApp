(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{797:function(e,a,t){"use strict";t.r(a);var n=t(10),o=t(24),l=t(0),r=t.n(l),c=t(119),i=t(752),s=t(775),m=t(761),d=t(747),u=t(798),f=t(744),p=t(697),g=t(750),b=t(770),E=t(776),v=t.n(E),h=t(777),k=t.n(h),x=t(98),w=t.n(x),N=t(59),y=t(360),j=t(36),O=t(120),C=t(3),I=t(30),T=t(7),P=t(12),q=t(19),A=t(60),F=t(257),L=Object(y.a)(function(e){return{root:{backgroundImage:"url(/assets/images/backgrounds/ys-bg.jpg)",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:e.palette.primary.contrastText},googleButton:{backgroundColor:"#d9534f","&:hover":{backgroundColor:"#d9534f"}},facebookButton:{backgroundColor:"#428bca","&:hover":{backgroundColor:"#428bca"}}}});a.default=function(){var e=Object(T.b)(),a=L(),t=Object(T.c)(function(e){return e.auth.register}),E=Object(l.useState)(!1),h=Object(o.a)(E,2),x=h[0],y=h[1],D=Object(l.useState)(!1),R=Object(o.a)(D,2),S=R[0],W=R[1],_=Object(l.useRef)(null);Object(l.useEffect)(function(){t.error&&(t.error.displayName||t.error.password||t.error.email)&&(_.current.updateInputsWithError(Object(n.a)({},t.error)),G(),W(!1))},[t.error]);var B=Object(O.b)({displayName:"",email:"",password:"",passwordConfirm:"",acceptTermsConditions:!1}),U=B.form,z=B.handleChange;function G(){y(!1)}return r.a.createElement("div",{className:Object(C.a)(a.root,"flex flex-col flex-auto flex-shrink-0 p-24 md:flex-row md:p-0")},r.a.createElement("div",{className:"flex flex-col flex-grow-0 items-center text-white p-16 text-center md:p-128 md:items-start md:flex-shrink-0 md:flex-1 md:text-left"},r.a.createElement(N.a,{animation:"transition.expandIn"},r.a.createElement(I.a,{to:"/"},r.a.createElement("img",{className:"w-400 mb-32",src:"assets/images/logos/logo.png",alt:"logo"}))),r.a.createElement(N.a,{animation:"transition.slideUpIn",delay:300},r.a.createElement(c.a,{variant:"h3",color:"inherit",className:"font-light font-bold"},"\u6b61\u8fce\u52a0\u5165"))),r.a.createElement(N.a,{animation:{translateX:[0,"100%"]}},r.a.createElement(i.a,{className:"w-full max-w-400 mx-auto m-16 md:m-0 rounded-12"},r.a.createElement(s.a,{className:"flex flex-col items-center justify-center p-32 md:p-48 md:pt-128 "},r.a.createElement(c.a,{variant:"h6",className:"md:w-full mb-32 text-center"},"\u5efa\u7acb\u5e33\u865f"),r.a.createElement(v.a,{clientId:q.c,render:function(e){return r.a.createElement(m.a,{variant:"contained",size:"large",onClick:e.onClick,className:Object(C.a)(a.googleButton,"normal-case w-256 mb-8 rounded-full text-white hover:shadow-xl")},r.a.createElement("img",{className:"w-36 px-0 mr-20 bg-white rounded-full",src:Object(A.e)("google"),alt:"google logo"}),"\u4f7f\u7528 Google \u5efa\u7acb")},onSuccess:function(a){!function(a){var t=a.googleId,n=a.accessToken,o=a.profileObj;W(!0),y(!1);var l={googleID:t,googleAccessToken:n,googleDisplayName:o.name,googleEmail:o.email,googlePhotoURL:o.imageUrl};e(j.q(l))}(a)},onFailure:function(a){e(P.p({message:"\u767b\u5165 Google \u5931\u6557"}))},cookiePolicy:"single_host_origin"}),r.a.createElement(k.a,{appId:q.b,fields:"name,email,picture",render:function(e){return r.a.createElement(m.a,{variant:"contained",size:"large",onClick:e.onClick,className:Object(C.a)(a.facebookButton,"normal-case w-256 rounded-full text-white hover:shadow-xl")},r.a.createElement("img",{className:"w-36 px-0 mr-20 bg-white rounded-full",src:Object(A.e)("facebook"),alt:"facebook logo"}),"\u4f7f\u7528 Facebook \u5efa\u7acb")},callback:function(a){!function(a){var t=a.userID,n=a.accessToken,o=a.name,l=a.email,r=a.picture;W(!0),y(!1);var c={facebookID:t,facebookAccessToken:n,facebookDisplayName:o,facebookEmail:l,facebookPhotoURL:r.data?r.data.url:"assets/images/avatars/penguin.png"};e(j.p(c))}(a)},onFailure:function(a){e(P.p({message:"\u767b\u5165 Facebook \u5931\u6557"}))}}),r.a.createElement("div",{className:"my-24 flex items-center justify-center"},r.a.createElement(d.a,{className:"w-64"}),r.a.createElement("span",{className:"mx-8 font-bold"},"\u6216\u8005"),r.a.createElement(d.a,{className:"w-64"})),r.a.createElement(w.a,{onValidSubmit:function(a){W(!0),y(!1),e(j.r(a))},onValid:function(){y(!0),W(!1)},onInvalid:G,ref:_,className:"flex flex-col justify-center w-full"},r.a.createElement(N.v,{className:"mb-16",label:"\u540d\u7a31",autoFocus:!0,type:"name",name:"displayName",validations:{minLength:4},validationErrors:{minLength:"\u8acb\u8f38\u5165\u81f3\u5c11 4 \u4f4d\u6578"},InputProps:{endAdornment:r.a.createElement(u.a,{position:"end"},r.a.createElement(f.a,{className:"text-20",color:"action"},"account_circle"))},variant:"outlined",required:!0,fullWidth:!0}),r.a.createElement(N.v,{className:"mb-16",label:"\u4fe1\u7bb1",type:"email",name:"email",validations:"isEmail",validationErrors:{isEmail:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u4fe1\u7bb1\u4f4d\u5740"},InputProps:{endAdornment:r.a.createElement(u.a,{position:"end"},r.a.createElement(f.a,{className:"text-20",color:"action"},"email"))},variant:"outlined",required:!0,fullWidth:!0}),r.a.createElement(N.v,{className:"mb-16",label:"\u5bc6\u78bc",type:"password",name:"password",validations:{minLength:5},validationErrors:{minLength:"\u8acb\u8f38\u5165\u81f3\u5c11 5 \u4f4d\u6578"},InputProps:{endAdornment:r.a.createElement(u.a,{position:"end"},r.a.createElement(f.a,{className:"text-20",color:"action"},"vpn_key"))},variant:"outlined",required:!0,fullWidth:!0}),r.a.createElement(N.v,{className:"mb-16",label:"\u78ba\u8a8d\u5bc6\u78bc",type:"password",name:"passwordConfirm",validations:"equalsField:password",validationErrors:{equalsField:"\u8f38\u5165\u7684\u5bc6\u78bc\u4e0d\u76f8\u7b26"},InputProps:{endAdornment:r.a.createElement(u.a,{position:"end"},r.a.createElement(f.a,{className:"text-20",color:"action"},"vpn_key"))},variant:"outlined",required:!0,fullWidth:!0}),r.a.createElement(p.a,{className:"items-center"},r.a.createElement(g.a,{control:r.a.createElement(b.a,{name:"acceptTermsConditions",checked:U.acceptTermsConditions,onChange:z}),label:"\u6211\u5df2\u95b1\u8b80\u4e26\u540c\u610f\u76f8\u95dc\u670d\u52d9\u689d\u6b3e"})),r.a.createElement(m.a,{variant:"contained",color:"primary",className:"w-full mx-auto mt-16 rounded-full","aria-label":"Register",disabled:!x||!U.acceptTermsConditions,value:"legacy",type:"submit"},S?"\u5efa\u7acb\u5e33\u865f\u4e2d":"\u5efa\u7acb\u5e33\u865f",S&&r.a.createElement(F.a,{width:32,height:32}))),r.a.createElement("div",{className:"flex flex-col items-center justify-center pt-32 pb-24"},r.a.createElement("span",{className:"font-medium"},"\u5df2\u6709\u5e33\u865f\uff1f"),r.a.createElement(I.a,{className:"font-medium",to:"/login"},"\u767b\u5165"))))))}}}]);